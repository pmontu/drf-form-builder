(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},20:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),i=a.n(l),s=(a(20),a(8)),c=a(7),o=a.n(c),m=a(10),u=a(2),d=a(3),h=a(6),p=a(4),b=a(5),f=a(1),E=(a(23),a(11),a(9)),v=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={username:"puru",password:"1"},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state)}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",required:!0,name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"password",required:!0,name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-small is-link"},"Submit"))))))}}]),t}(r.a.Component),g=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={name:""},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onCreateForm(Object(s.a)({},this.state))}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Create New Form"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"name",value:this.state.name,onChange:this.handleChange,required:!0,placeholder:"Form Title"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Message"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{className:"textarea",placeholder:"Description",value:this.state.description,name:"description",onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"},"Create"))))))}}]),t}(r.a.Component),j=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.forms.map(function(t){var a,n,l="Me";return e.props.userId===t.user?(a=r.a.createElement("button",{onClick:function(){return e.props.onDesign(t)},className:"button"},"Design"),n="N.A."):(l=t.username,n=r.a.createElement("button",{onClick:function(){return e.props.onFillInit(t)},className:"button"},"Fill"),a="N.A."),r.a.createElement("tr",{key:t.id},r.a.createElement("th",null,t.id),r.a.createElement("td",null,l),r.a.createElement("td",null,t.name),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,t.description))}),a=this.props.attempts.map(function(t){var a,n,l;return t.user===e.props.userId?(a=r.a.createElement("button",{onClick:function(){return e.props.onReply(t)},className:"button"},"Fill"),l="N.A.",n="Me"):(l=r.a.createElement("button",{onClick:function(){return e.props.onView(t)},className:"button"},"View"),n=t.username,a="N.A."),r.a.createElement("tr",{key:t.id},r.a.createElement("th",null,t.id),r.a.createElement("td",null,n),r.a.createElement("td",null,t.form_author),r.a.createElement("td",null,t.form_name),r.a.createElement("td",null,a),r.a.createElement("td",null,l))});return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Forms")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("abbr",{title:"Unique Identifier"},"Id")),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Form Title"},"Form Title")),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Add Elements to Form"},"Design")),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Fill the Form"},"Create New Submission")),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Fill the Form"},"Description")))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,t?null:r.a.createElement("tr",null,r.a.createElement("th",null,"Loading...")),0===t.length?r.a.createElement("tr",null,r.a.createElement("th",null,"No Records")):null)))),r.a.createElement(g,{onCreateForm:this.props.onFormCreate})),r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Submissions")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("abbr",{title:"Unique Identifier"},"Id")),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Form Author"),r.a.createElement("th",null,"Form Title"),r.a.createElement("th",null,"Continue Filling"),r.a.createElement("th",null,"View"))),r.a.createElement("tbody",null,a),r.a.createElement("tfoot",null,a?null:r.a.createElement("tr",null,r.a.createElement("th",null,"Loading...")),0===a.length?r.a.createElement("tr",null,r.a.createElement("th",null,"No Records")):null))))))}}]),t}(r.a.Component),O=(a(24),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={text:"",isText:!0},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit({text:this.state.text,fieldType:this.state.isText?"T":"R"}),this.setState({text:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("input",{id:"switchRoundedInfo",type:"checkbox",name:"switchRoundedInfo",className:"switch is-rounded is-info",checked:this.state.isText,onChange:function(){return e.setState(function(e){return{isText:!e.isText}})}}),r.a.createElement("label",{htmlFor:"switchRoundedInfo"},this.state.isText?"Switch to Checkbox":"Switch to Textbox")),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},this.state.isText?"Text":"Choice"," Question"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Question Text",value:this.state.text,name:"text",onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"},"Add"))))}}]),t}(r.a.Component)),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={value:""},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit({event:e,fieldId:this.props.field.id,value:this.state.value}),this.setState({value:""})}},{key:"render",value:function(){var e=this.props.options.map(function(e){return r.a.createElement("li",{key:e.id},e.value," ")});return r.a.createElement("li",null,r.a.createElement("form",{onSubmit:this.handleSubmit},"Choice Question:",r.a.createElement("label",null,r.a.createElement("strong",null,this.props.field.text),r.a.createElement("br",null),r.a.createElement("ul",null,e),0===e.length?"No options added yet":null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Option"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Choice",value:this.state.value,name:"value",onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-small is-link"},"Add"))))))}}]),t}(r.a.Component),N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={text:"",isText:!0},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"render",value:function(){var e,t=this;try{e=this.props.form.fields.map(function(e){if("T"===e.field)return r.a.createElement("li",{key:e.id},"Text Question: ",r.a.createElement("strong",null,e.text));if("R"===e.field)return r.a.createElement(w,{key:e.id,options:e.options,field:e,onSubmit:function(e){e.formId=t.props.form.id,t.props.onOptionSubmit(e)}});throw new Error("Unexpted field type in Design Form Rendering")})}catch(a){alert(a)}return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Design Form: ",r.a.createElement("strong",null,this.props.form.name))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("ol",null,e),0===e.length?"Add Textboxes or Checkboxes to continue":null,r.a.createElement("br",null)))),r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Create New Field / Question")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement(O,{onSubmit:function(e){e.formId=t.props.form.id,t.props.onTextSubmit(e)}})))))}}]),t}(r.a.Component);function k(e){return r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},e.attField.field.text,": "),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:e.attField.field.text,placeholder:"Answer",onChange:function(t){return e.onChange(t,e.attField)},value:e.attField.text})))}function y(e){var t=e.attField.options.map(function(e){return e.option}),a=e.attField.field.options.map(function(a){var n=t.includes(a.id),l=n?e.attField.options.find(function(e){return e.option===a.id}).id:null;return r.a.createElement("div",{className:"field",key:a.id},r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(t){return e.onChange(t,a.id,l,e.attField.id)}}),a.value)))});return r.a.createElement("div",null,r.a.createElement("strong",null,e.attField.field.text,":")," ",a)}var x=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this;try{e=this.props.attempt.fields.map(function(e){if("T"===e.field.field)return r.a.createElement("li",{key:e.id},r.a.createElement(k,{attField:e,onChange:t.props.onTextChange}));if("R"===e.field.field)return r.a.createElement("li",{key:e.id},r.a.createElement(y,{attField:e,onChange:function(e,a,n,r){return t.props.onRadioChange(e,a,n,r,t.props.attempt.id)}}));throw new Error("Unknown field type.")})}catch(a){alert(a)}return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Fill Form ",r.a.createElement("strong",null,this.props.attempt.form_name))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("ol",null,e),0===e.length?"No Fields have been added to this form":null,r.a.createElement("br",null))))))}}]),t}(r.a.Component),C={answer:{textDecoration:"underline",fontStyle:"italic"}},S=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e;try{e=this.props.attempt.fields.map(function(e){if("T"===e.field.field)return r.a.createElement("li",{key:e.id},"Text Question - ",r.a.createElement("strong",null,e.field.text),": ",r.a.createElement("span",{style:C.answer},e.text||"No Answer"));if("R"===e.field.field){var t=e.options.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{style:C.answer},e.value))});return r.a.createElement("li",{key:e.id},"Choice Question - ",r.a.createElement("strong",null,e.field.text),r.a.createElement("br",null),"Options Selected:",r.a.createElement("ul",null,t,0===t.length?r.a.createElement("li",{style:C.answer},"No options selected"):null))}throw new Error("Unknown field type while rending View Form.")})}catch(t){alert(t)}return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"View ".concat(this.props.attempt.username,"'s ").concat(this.props.attempt.form_name," Form"))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("ol",null,e)))))}}]),t}(r.a.Component),F=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={isLoggedIn:!1,baseUrl:"",isDesign:!1,isReply:!1,isView:!1,isForms:!0,forms:[],attempts:[]},e.handleLogin=e.handleLogin.bind(Object(f.a)(Object(f.a)(e))),e.handleLogout=e.handleLogout.bind(Object(f.a)(Object(f.a)(e))),e.getForms=e.getForms.bind(Object(f.a)(Object(f.a)(e))),e.handleDesign=e.handleDesign.bind(Object(f.a)(Object(f.a)(e))),e.handleReply=e.handleReply.bind(Object(f.a)(Object(f.a)(e))),e.handleView=e.handleView.bind(Object(f.a)(Object(f.a)(e))),e.handleForms=e.handleForms.bind(Object(f.a)(Object(f.a)(e))),e.handleTextAttemptChange=e.handleTextAttemptChange.bind(Object(f.a)(Object(f.a)(e))),e.handleRadioAttemptChange=e.handleRadioAttemptChange.bind(Object(f.a)(Object(f.a)(e))),e.handleDesignTextSubmit=e.handleDesignTextSubmit.bind(Object(f.a)(Object(f.a)(e))),e.handleDesignOptionSubmit=e.handleDesignOptionSubmit.bind(Object(f.a)(Object(f.a)(e))),e.handleFillInit=e.handleFillInit.bind(Object(f.a)(Object(f.a)(e))),e.handleFormCreate=e.handleFormCreate.bind(Object(f.a)(Object(f.a)(e))),e}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleLogin",value:function(e){var t=this,a="".concat(this.state.baseUrl,"/api-token-auth/");fetch(a,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")}).then(function(a){t.setState({username:e.username,token:a.token,isLoggedIn:!0,user:{id:a.user.id}}),t.getForms()}).catch(function(e){alert(e),t.setState({isLoggedIn:!1})})}},{key:"handleLogout",value:function(){this.setState({isLoggedIn:!1,isDesign:!1,isReply:!1,isView:!1,isForms:!1})}},{key:"getForms",value:function(){var e=Object(m.a)(o.a.mark(function e(){var t,a,n,r,l,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,a="".concat(this.state.baseUrl,"/forms/"),e.next=5,fetch(a);case 5:if(!(n=e.sent).ok){e.next=12;break}return e.next=9,n.json();case 9:t=e.sent,e.next=13;break;case 12:throw new Error("Something went wrong.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert(e.t0);case 18:return r=[],e.prev=19,l="".concat(this.state.baseUrl,"/attempts/"),e.next=23,fetch(l,{headers:{Authorization:"JWT ".concat(this.state.token)}});case 23:if(!(i=e.sent).ok){e.next=30;break}return e.next=27,i.json();case 27:r=e.sent,e.next=31;break;case 30:throw new Error("Something went wrong.");case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(19),alert(e.t1);case 36:this.setState({forms:t,attempts:r,isForms:!0});case 37:case"end":return e.stop()}},e,this,[[1,15],[19,33]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleDesign",value:function(e){this.setState({form:e,isDesign:!0,isReply:!1,isView:!1,isForms:!1})}},{key:"handleReply",value:function(e){this.setState({attempt:e,isDesign:!1,isReply:!0,isView:!1,isForms:!1})}},{key:"handleView",value:function(e){this.setState({attempt:e,isDesign:!1,isReply:!1,isView:!0,isForms:!1})}},{key:"handleForms",value:function(e){this.setState({attempt:e,isDesign:!1,isReply:!1,isView:!1,isForms:!0})}},{key:"handleTextAttemptChange",value:function(){var e=Object(m.a)(o.a.mark(function e(t,a){var n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.state.baseUrl,"/attempts/").concat(a.attempt,"/fields/").concat(a.id,"/"),e.prev=1,e.next=4,fetch(n,{method:"patch",body:JSON.stringify({text:t.target.value}),headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)}});case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:l=e.sent,e.next=12;break;case 11:throw new Error("Something went wrong");case 12:this.setState(function(e){return{attempt:Object(s.a)({},e.attempt,{fields:e.attempt.fields.map(function(e){return e.id===l.id?l:e})})}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert(e.t0);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleRadioAttemptChange",value:function(){var e=Object(m.a)(o.a.mark(function e(){var t,a,n,r,l,i,c,m,u,d,h,p,b,f=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=f.length,a=new Array(t),n=0;n<t;n++)a[n]=f[n];if(r=a[0],l=a[1],i=a[2],c=a[3],m=a[4],u=r.target.checked,e.prev=3,!u){e.next=17;break}return d="".concat(this.state.baseUrl,"/attempts/").concat(m,"/fields/").concat(c,"/options/"),e.next=8,fetch(d,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"post",body:JSON.stringify({option:l})});case 8:if((h=e.sent).ok){e.next=11;break}throw new Error("Something went wrong while posting option");case 11:return e.next=13,h.json();case 13:p=e.sent,this.setState(function(e){return{attempt:Object(s.a)({},e.attempt,{fields:e.attempt.fields.map(function(e){var t=e.options;return t.push(p),Object(s.a)({},e,{options:t})})})}}),e.next=24;break;case 17:return b="".concat(this.state.baseUrl,"/attempts/").concat(m,"/fields/").concat(c,"/options/").concat(i,"/"),e.next=20,fetch(b,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"delete"});case 20:if(e.sent.ok){e.next=23;break}throw new Error("Something went wrong while deleting option");case 23:this.setState(function(e){return{attempt:Object(s.a)({},e.attempt,{fields:e.attempt.fields.map(function(e){var t=e.options.filter(function(e){return e.id!==i});return Object(s.a)({},e,{options:t})})})}});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),alert(e.t0);case 29:case"end":return e.stop()}},e,this,[[3,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleDesignTextSubmit",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,n,r,l,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.fieldType,n=t.text,r=t.formId,l="".concat(this.state.baseUrl,"/forms/").concat(r,"/fields/"),e.next=5,fetch(l,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"post",body:JSON.stringify({text:n,field:a})});case 5:if((i=e.sent).ok){e.next=8;break}throw new Error("Something went wrong while creating field in form");case 8:return e.next=10,i.json();case 10:c=e.sent,this.setState(function(e){var t=e.form.fields;return t.push(c),{form:Object(s.a)({},e.form,{fields:t})}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleDesignOptionSubmit",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,n,r,l,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.fieldId,n=t.value,r=t.formId,l="".concat(this.state.baseUrl,"/forms/").concat(r,"/fields/").concat(a,"/options/"),e.next=5,fetch(l,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"post",body:JSON.stringify({value:n})});case 5:if((i=e.sent).ok){e.next=8;break}throw new Error("Something went wrong while creating option in form field");case 8:return e.next=10,i.json();case 10:c=e.sent,this.setState(function(e){return{form:Object(s.a)({},e.form,{fields:e.form.fields.map(function(e){if(e.id===a){var t=e.options;return t.push(c),Object(s.a)({},e,{options:t})}return e})})}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleFillInit",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(this.state.baseUrl,"/attempts/"),e.next=4,fetch(a,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"post",body:JSON.stringify({form:t.id})});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while creating attempt");case 7:return e.next=9,n.json();case 9:r=e.sent,this.setState(function(e){var t=e.attempts;return t.push(r),{attempts:t}}),this.handleReply(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleFormCreate",value:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(this.state.baseUrl,"/forms/"),e.next=4,fetch(a,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(this.state.token)},method:"post",body:JSON.stringify(t)});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while creating the form");case 7:return e.next=9,n.json();case 9:r=e.sent,this.setState(function(e){var t=e.forms;return t.push(r),{forms:t}}),this.handleDesign(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"hero is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1"},"Form Builder"),r.a.createElement("h2",{className:"subtitle"},"Build Forms and Fill Forms")))),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},this.state.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleLogout,className:"button is-fullwidth"},"Logout ",this.state.username),r.a.createElement("button",{onClick:this.handleForms,className:"button is-fullwidth"},"Forms"))),r.a.createElement("div",{className:"column is-three-quarters"},r.a.createElement("div",null,!this.state.isLoggedIn&&r.a.createElement(v,{onSubmit:this.handleLogin})),r.a.createElement("div",null,this.state.isLoggedIn&&this.state.isForms&&r.a.createElement(j,{forms:this.state.forms,attempts:this.state.attempts,onLoad:this.getForms,userId:this.state.user.id,onDesign:this.handleDesign,onReply:this.handleReply,onView:this.handleView,onFillInit:this.handleFillInit,onFormCreate:this.handleFormCreate})),r.a.createElement("div",null,this.state.isLoggedIn&&this.state.isDesign&&r.a.createElement(N,{form:this.state.form,onTextSubmit:this.handleDesignTextSubmit,onOptionSubmit:this.handleDesignOptionSubmit})),r.a.createElement("div",null,this.state.isLoggedIn&&this.state.isReply&&r.a.createElement(x,{attempt:this.state.attempt,onTextChange:this.handleTextAttemptChange,onRadioChange:this.handleRadioAttemptChange})),r.a.createElement("div",null,this.state.isLoggedIn&&this.state.isView&&r.a.createElement(S,{attempt:this.state.attempt}))),r.a.createElement("div",{className:"column"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.f20dfd5a.chunk.js.map